{"ast":null,"code":"var _jsxFileName = \"D:\\\\SnapRoute\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Button, Container, Box, Typography, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Paper, Grid, Card, CardContent, CardMedia, CardActions, Divider, Stack } from '@mui/material';\nimport AddIcon from '@mui/icons-material/Add';\nimport PhotoCamera from '@mui/icons-material/PhotoCamera';\nimport ListAltIcon from '@mui/icons-material/ListAlt';\nimport EXIF from 'exif-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [open, setOpen] = useState(false);\n  const [tripsDialogOpen, setTripsDialogOpen] = useState(false);\n  const [tripData, setTripData] = useState({\n    destination: '',\n    startDate: '',\n    endDate: '',\n    notes: '',\n    photos: []\n  });\n  const [trips, setTrips] = useState([]);\n  const [previewUrls, setPreviewUrls] = useState([]);\n\n  // 从本地存储加载行程数据\n  useEffect(() => {\n    const savedTrips = localStorage.getItem('trips');\n    if (savedTrips) {\n      setTrips(JSON.parse(savedTrips));\n    }\n  }, []);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n    setPreviewUrls([]);\n    setTripData({\n      destination: '',\n      startDate: '',\n      endDate: '',\n      notes: '',\n      photos: []\n    });\n  };\n  const handleSubmit = async () => {\n    try {\n      const formData = new FormData();\n      formData.append('destination', tripData.destination);\n      formData.append('startDate', tripData.startDate);\n      formData.append('endDate', tripData.endDate);\n      formData.append('notes', tripData.notes);\n      tripData.photos.forEach((photo, index) => {\n        formData.append(`photos`, photo.file);\n      });\n      const response = await fetch('/api/trips', {\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) {\n        throw new Error('Failed to save trip');\n      }\n      const newTrip = {\n        ...tripData,\n        id: Date.now(),\n        createdAt: new Date().toISOString(),\n        photos: previewUrls.map((url, index) => {\n          var _tripData$photos$inde;\n          return {\n            url,\n            exifData: ((_tripData$photos$inde = tripData.photos[index]) === null || _tripData$photos$inde === void 0 ? void 0 : _tripData$photos$inde.exifData) || {}\n          };\n        })\n      };\n      const updatedTrips = [...trips, newTrip];\n      setTrips(updatedTrips);\n      localStorage.setItem('trips', JSON.stringify(updatedTrips));\n      handleClose();\n    } catch (error) {\n      console.error('Error saving trip:', error);\n      // 这里可以添加错误提示\n    }\n  };\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setTripData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handlePhotoUpload = event => {\n    const files = Array.from(event.target.files);\n    files.forEach(file => {\n      const reader = new FileReader();\n      reader.onload = () => {\n        // 添加预览URL\n        setPreviewUrls(prev => [...prev, reader.result]);\n\n        // 读取EXIF信息\n        EXIF.getData(file, function () {\n          const exifData = EXIF.getAllTags(this);\n          console.log('EXIF data:', exifData);\n          if (exifData && exifData.DateTimeOriginal) {\n            const dateStr = exifData.DateTimeOriginal;\n            const date = new Date(dateStr.substring(0, 4), parseInt(dateStr.substring(5, 7)) - 1, dateStr.substring(8, 10));\n            setTripData(prev => ({\n              ...prev,\n              startDate: date.toISOString().split('T')[0],\n              photos: [...prev.photos, {\n                file: file,\n                exifData: exifData\n              }]\n            }));\n          }\n\n          // 如果有GPS信息，尝试获取位置\n          if (exifData.GPSLatitude && exifData.GPSLongitude) {\n            const lat = convertDMSToDD(exifData.GPSLatitude, exifData.GPSLatitudeRef);\n            const lng = convertDMSToDD(exifData.GPSLongitude, exifData.GPSLongitudeRef);\n\n            // 使用反向地理编码获取位置名称\n            fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`).then(response => response.json()).then(data => {\n              if (data.display_name) {\n                setTripData(prev => ({\n                  ...prev,\n                  destination: data.display_name.split(',')[0]\n                }));\n              }\n            }).catch(error => console.error('Error fetching location:', error));\n          }\n        });\n      };\n      reader.readAsDataURL(file);\n    });\n  };\n\n  // 将度分秒格式转换为十进制度数\n  const convertDMSToDD = (dms, ref) => {\n    const degrees = dms[0];\n    const minutes = dms[1];\n    const seconds = dms[2];\n    let dd = degrees + minutes / 60 + seconds / 3600;\n    if (ref === \"S\" || ref === \"W\") {\n      dd = dd * -1;\n    }\n    return dd;\n  };\n  const formatDate = dateString => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('zh-CN', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        my: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"SnapRoute \\u884C\\u7A0B\\u8BB0\\u5F55\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        spacing: 2,\n        sx: {\n          mt: 2,\n          mb: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 24\n          }, this),\n          onClick: handleClickOpen,\n          children: \"\\u6DFB\\u52A0\\u884C\\u7A0B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          startIcon: /*#__PURE__*/_jsxDEV(ListAltIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 24\n          }, this),\n          onClick: () => setTripsDialogOpen(true),\n          children: \"\\u6211\\u7684\\u884C\\u7A0B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: open,\n        onClose: handleClose,\n        maxWidth: \"md\",\n        fullWidth: true,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: \"\\u6DFB\\u52A0\\u65B0\\u884C\\u7A0B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              pt: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              accept: \"image/*\",\n              style: {\n                display: 'none'\n              },\n              id: \"photo-upload\",\n              type: \"file\",\n              multiple: true,\n              onChange: handlePhotoUpload\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"photo-upload\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                component: \"span\",\n                startIcon: /*#__PURE__*/_jsxDEV(PhotoCamera, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 30\n                }, this),\n                fullWidth: true,\n                sx: {\n                  mb: 2\n                },\n                children: \"\\u4E0A\\u4F20\\u7167\\u7247\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this), previewUrls.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2,\n                display: 'flex',\n                flexWrap: 'wrap',\n                gap: 1\n              },\n              children: previewUrls.map((url, index) => /*#__PURE__*/_jsxDEV(Paper, {\n                sx: {\n                  width: 100,\n                  height: 100,\n                  overflow: 'hidden',\n                  position: 'relative'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: url,\n                  alt: `预览 ${index + 1}`,\n                  style: {\n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'cover'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 23\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"\\u76EE\\u7684\\u5730\",\n              name: \"destination\",\n              value: tripData.destination,\n              onChange: handleChange,\n              margin: \"normal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"\\u5F00\\u59CB\\u65E5\\u671F\",\n              name: \"startDate\",\n              type: \"date\",\n              value: tripData.startDate,\n              onChange: handleChange,\n              margin: \"normal\",\n              InputLabelProps: {\n                shrink: true\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"\\u7ED3\\u675F\\u65E5\\u671F\",\n              name: \"endDate\",\n              type: \"date\",\n              value: tripData.endDate,\n              onChange: handleChange,\n              margin: \"normal\",\n              InputLabelProps: {\n                shrink: true\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"\\u5907\\u6CE8\",\n              name: \"notes\",\n              value: tripData.notes,\n              onChange: handleChange,\n              margin: \"normal\",\n              multiline: true,\n              rows: 4\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleClose,\n            children: \"\\u53D6\\u6D88\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleSubmit,\n            variant: \"contained\",\n            children: \"\\u4FDD\\u5B58\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: tripsDialogOpen,\n        onClose: () => setTripsDialogOpen(false),\n        maxWidth: \"md\",\n        fullWidth: true,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: \"\\u6211\\u7684\\u884C\\u7A0B\\u8BB0\\u5F55\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            sx: {\n              mt: 1\n            },\n            children: [trips.map(trip => /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                children: [/*#__PURE__*/_jsxDEV(CardContent, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    gutterBottom: true,\n                    children: trip.destination\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: [formatDate(trip.startDate), trip.endDate && ` - ${formatDate(trip.endDate)}`]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 23\n                  }, this), trip.notes && /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    sx: {\n                      mt: 1\n                    },\n                    children: trip.notes\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 21\n                }, this), trip.photos.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    p: 2\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Grid, {\n                    container: true,\n                    spacing: 1,\n                    children: trip.photos.map((photo, index) => /*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      xs: 4,\n                      sm: 3,\n                      md: 2,\n                      children: /*#__PURE__*/_jsxDEV(CardMedia, {\n                        component: \"img\",\n                        image: photo.url,\n                        alt: `${trip.destination} 照片 ${index + 1}`,\n                        sx: {\n                          height: 100,\n                          objectFit: 'cover',\n                          borderRadius: 1\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 359,\n                        columnNumber: 31\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 19\n              }, this)\n            }, trip.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this)), trips.length === 0 && /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                color: \"text.secondary\",\n                align: \"center\",\n                children: \"\\u8FD8\\u6CA1\\u6709\\u6DFB\\u52A0\\u4EFB\\u4F55\\u884C\\u7A0B\\u8BB0\\u5F55\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setTripsDialogOpen(false),\n            children: \"\\u5173\\u95ED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"B9bkitXOHYQWzyoeZVSflkrAWXY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Button","Container","Box","Typography","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Paper","Grid","Card","CardContent","CardMedia","CardActions","Divider","Stack","AddIcon","PhotoCamera","ListAltIcon","EXIF","jsxDEV","_jsxDEV","App","_s","open","setOpen","tripsDialogOpen","setTripsDialogOpen","tripData","setTripData","destination","startDate","endDate","notes","photos","trips","setTrips","previewUrls","setPreviewUrls","savedTrips","localStorage","getItem","JSON","parse","handleClickOpen","handleClose","handleSubmit","formData","FormData","append","forEach","photo","index","file","response","fetch","method","body","ok","Error","newTrip","id","Date","now","createdAt","toISOString","map","url","_tripData$photos$inde","exifData","updatedTrips","setItem","stringify","error","console","handleChange","event","name","value","target","prev","handlePhotoUpload","files","Array","from","reader","FileReader","onload","result","getData","getAllTags","log","DateTimeOriginal","dateStr","date","substring","parseInt","split","GPSLatitude","GPSLongitude","lat","convertDMSToDD","GPSLatitudeRef","lng","GPSLongitudeRef","then","json","data","display_name","catch","readAsDataURL","dms","ref","degrees","minutes","seconds","dd","formatDate","dateString","toLocaleDateString","year","month","day","maxWidth","children","sx","my","variant","component","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","direction","spacing","mt","mb","startIcon","onClick","onClose","fullWidth","pt","accept","style","display","type","multiple","onChange","htmlFor","length","flexWrap","gap","width","height","overflow","position","src","alt","objectFit","label","margin","InputLabelProps","shrink","multiline","rows","container","trip","item","xs","color","p","sm","md","image","borderRadius","align","_c","$RefreshReg$"],"sources":["D:/SnapRoute/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Button, \r\n  Container, \r\n  Box, \r\n  Typography,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Paper,\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  CardActions,\r\n  Divider,\r\n  Stack\r\n} from '@mui/material';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport PhotoCamera from '@mui/icons-material/PhotoCamera';\r\nimport ListAltIcon from '@mui/icons-material/ListAlt';\r\nimport EXIF from 'exif-js';\r\n\r\nfunction App() {\r\n  const [open, setOpen] = useState(false);\r\n  const [tripsDialogOpen, setTripsDialogOpen] = useState(false);\r\n  const [tripData, setTripData] = useState({\r\n    destination: '',\r\n    startDate: '',\r\n    endDate: '',\r\n    notes: '',\r\n    photos: []\r\n  });\r\n  const [trips, setTrips] = useState([]);\r\n  const [previewUrls, setPreviewUrls] = useState([]);\r\n\r\n  // 从本地存储加载行程数据\r\n  useEffect(() => {\r\n    const savedTrips = localStorage.getItem('trips');\r\n    if (savedTrips) {\r\n      setTrips(JSON.parse(savedTrips));\r\n    }\r\n  }, []);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setPreviewUrls([]);\r\n    setTripData({\r\n      destination: '',\r\n      startDate: '',\r\n      endDate: '',\r\n      notes: '',\r\n      photos: []\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('destination', tripData.destination);\r\n      formData.append('startDate', tripData.startDate);\r\n      formData.append('endDate', tripData.endDate);\r\n      formData.append('notes', tripData.notes);\r\n      \r\n      tripData.photos.forEach((photo, index) => {\r\n        formData.append(`photos`, photo.file);\r\n      });\r\n\r\n      const response = await fetch('/api/trips', {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to save trip');\r\n      }\r\n\r\n      const newTrip = {\r\n        ...tripData,\r\n        id: Date.now(),\r\n        createdAt: new Date().toISOString(),\r\n        photos: previewUrls.map((url, index) => ({\r\n          url,\r\n          exifData: tripData.photos[index]?.exifData || {}\r\n        }))\r\n      };\r\n\r\n      const updatedTrips = [...trips, newTrip];\r\n      setTrips(updatedTrips);\r\n      localStorage.setItem('trips', JSON.stringify(updatedTrips));\r\n      \r\n      handleClose();\r\n    } catch (error) {\r\n      console.error('Error saving trip:', error);\r\n      // 这里可以添加错误提示\r\n    }\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setTripData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handlePhotoUpload = (event) => {\r\n    const files = Array.from(event.target.files);\r\n    \r\n    files.forEach(file => {\r\n      const reader = new FileReader();\r\n      \r\n      reader.onload = () => {\r\n        // 添加预览URL\r\n        setPreviewUrls(prev => [...prev, reader.result]);\r\n        \r\n        // 读取EXIF信息\r\n        EXIF.getData(file, function() {\r\n          const exifData = EXIF.getAllTags(this);\r\n          console.log('EXIF data:', exifData);\r\n          \r\n          if (exifData && exifData.DateTimeOriginal) {\r\n            const dateStr = exifData.DateTimeOriginal;\r\n            const date = new Date(\r\n              dateStr.substring(0,4),\r\n              parseInt(dateStr.substring(5,7)) - 1,\r\n              dateStr.substring(8,10)\r\n            );\r\n            \r\n            setTripData(prev => ({\r\n              ...prev,\r\n              startDate: date.toISOString().split('T')[0],\r\n              photos: [...prev.photos, {\r\n                file: file,\r\n                exifData: exifData\r\n              }]\r\n            }));\r\n          }\r\n\r\n          // 如果有GPS信息，尝试获取位置\r\n          if (exifData.GPSLatitude && exifData.GPSLongitude) {\r\n            const lat = convertDMSToDD(exifData.GPSLatitude, exifData.GPSLatitudeRef);\r\n            const lng = convertDMSToDD(exifData.GPSLongitude, exifData.GPSLongitudeRef);\r\n            \r\n            // 使用反向地理编码获取位置名称\r\n            fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`)\r\n              .then(response => response.json())\r\n              .then(data => {\r\n                if (data.display_name) {\r\n                  setTripData(prev => ({\r\n                    ...prev,\r\n                    destination: data.display_name.split(',')[0]\r\n                  }));\r\n                }\r\n              })\r\n              .catch(error => console.error('Error fetching location:', error));\r\n          }\r\n        });\r\n      };\r\n      \r\n      reader.readAsDataURL(file);\r\n    });\r\n  };\r\n\r\n  // 将度分秒格式转换为十进制度数\r\n  const convertDMSToDD = (dms, ref) => {\r\n    const degrees = dms[0];\r\n    const minutes = dms[1];\r\n    const seconds = dms[2];\r\n    \r\n    let dd = degrees + minutes/60 + seconds/3600;\r\n    if (ref === \"S\" || ref === \"W\") {\r\n      dd = dd * -1;\r\n    }\r\n    return dd;\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return '';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('zh-CN', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      <Box sx={{ my: 4 }}>\r\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n          SnapRoute 行程记录\r\n        </Typography>\r\n        \r\n        <Stack direction=\"row\" spacing={2} sx={{ mt: 2, mb: 4 }}>\r\n          <Button \r\n            variant=\"contained\" \r\n            startIcon={<AddIcon />}\r\n            onClick={handleClickOpen}\r\n          >\r\n            添加行程\r\n          </Button>\r\n          <Button\r\n            variant=\"outlined\"\r\n            startIcon={<ListAltIcon />}\r\n            onClick={() => setTripsDialogOpen(true)}\r\n          >\r\n            我的行程\r\n          </Button>\r\n        </Stack>\r\n\r\n        {/* 添加行程对话框 */}\r\n        <Dialog \r\n          open={open} \r\n          onClose={handleClose}\r\n          maxWidth=\"md\"\r\n          fullWidth\r\n        >\r\n          <DialogTitle>添加新行程</DialogTitle>\r\n          <DialogContent>\r\n            <Box sx={{ pt: 2 }}>\r\n              <input\r\n                accept=\"image/*\"\r\n                style={{ display: 'none' }}\r\n                id=\"photo-upload\"\r\n                type=\"file\"\r\n                multiple\r\n                onChange={handlePhotoUpload}\r\n              />\r\n              <label htmlFor=\"photo-upload\">\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  component=\"span\"\r\n                  startIcon={<PhotoCamera />}\r\n                  fullWidth\r\n                  sx={{ mb: 2 }}\r\n                >\r\n                  上传照片\r\n                </Button>\r\n              </label>\r\n\r\n              {/* 照片预览区域 */}\r\n              {previewUrls.length > 0 && (\r\n                <Box sx={{ mb: 2, display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n                  {previewUrls.map((url, index) => (\r\n                    <Paper\r\n                      key={index}\r\n                      sx={{\r\n                        width: 100,\r\n                        height: 100,\r\n                        overflow: 'hidden',\r\n                        position: 'relative'\r\n                      }}\r\n                    >\r\n                      <img\r\n                        src={url}\r\n                        alt={`预览 ${index + 1}`}\r\n                        style={{\r\n                          width: '100%',\r\n                          height: '100%',\r\n                          objectFit: 'cover'\r\n                        }}\r\n                      />\r\n                    </Paper>\r\n                  ))}\r\n                </Box>\r\n              )}\r\n\r\n              <TextField\r\n                fullWidth\r\n                label=\"目的地\"\r\n                name=\"destination\"\r\n                value={tripData.destination}\r\n                onChange={handleChange}\r\n                margin=\"normal\"\r\n              />\r\n              <TextField\r\n                fullWidth\r\n                label=\"开始日期\"\r\n                name=\"startDate\"\r\n                type=\"date\"\r\n                value={tripData.startDate}\r\n                onChange={handleChange}\r\n                margin=\"normal\"\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n              <TextField\r\n                fullWidth\r\n                label=\"结束日期\"\r\n                name=\"endDate\"\r\n                type=\"date\"\r\n                value={tripData.endDate}\r\n                onChange={handleChange}\r\n                margin=\"normal\"\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n              <TextField\r\n                fullWidth\r\n                label=\"备注\"\r\n                name=\"notes\"\r\n                value={tripData.notes}\r\n                onChange={handleChange}\r\n                margin=\"normal\"\r\n                multiline\r\n                rows={4}\r\n              />\r\n            </Box>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={handleClose}>取消</Button>\r\n            <Button onClick={handleSubmit} variant=\"contained\">\r\n              保存\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        {/* 我的行程对话框 */}\r\n        <Dialog\r\n          open={tripsDialogOpen}\r\n          onClose={() => setTripsDialogOpen(false)}\r\n          maxWidth=\"md\"\r\n          fullWidth\r\n        >\r\n          <DialogTitle>我的行程记录</DialogTitle>\r\n          <DialogContent>\r\n            <Grid container spacing={2} sx={{ mt: 1 }}>\r\n              {trips.map((trip) => (\r\n                <Grid item xs={12} key={trip.id}>\r\n                  <Card>\r\n                    <CardContent>\r\n                      <Typography variant=\"h6\" gutterBottom>\r\n                        {trip.destination}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        {formatDate(trip.startDate)} \r\n                        {trip.endDate && ` - ${formatDate(trip.endDate)}`}\r\n                      </Typography>\r\n                      {trip.notes && (\r\n                        <Typography variant=\"body2\" sx={{ mt: 1 }}>\r\n                          {trip.notes}\r\n                        </Typography>\r\n                      )}\r\n                    </CardContent>\r\n                    {trip.photos.length > 0 && (\r\n                      <Box sx={{ p: 2 }}>\r\n                        <Grid container spacing={1}>\r\n                          {trip.photos.map((photo, index) => (\r\n                            <Grid item xs={4} sm={3} md={2} key={index}>\r\n                              <CardMedia\r\n                                component=\"img\"\r\n                                image={photo.url}\r\n                                alt={`${trip.destination} 照片 ${index + 1}`}\r\n                                sx={{\r\n                                  height: 100,\r\n                                  objectFit: 'cover',\r\n                                  borderRadius: 1\r\n                                }}\r\n                              />\r\n                            </Grid>\r\n                          ))}\r\n                        </Grid>\r\n                      </Box>\r\n                    )}\r\n                    <Divider />\r\n                  </Card>\r\n                </Grid>\r\n              ))}\r\n              {trips.length === 0 && (\r\n                <Grid item xs={12}>\r\n                  <Typography variant=\"body1\" color=\"text.secondary\" align=\"center\">\r\n                    还没有添加任何行程记录\r\n                  </Typography>\r\n                </Grid>\r\n              )}\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={() => setTripsDialogOpen(false)}>关闭</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}